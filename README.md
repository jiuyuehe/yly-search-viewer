# yly-search-viewer


1、高级搜索界面
	1）左右布局，左边为搜索过滤筛选条件，右边为搜索结果和搜索框
	2）左侧搜索过滤条件包括：文件空间、创建人员、标签过滤、格式过滤、时间过滤、大小过滤、历史版本过滤。注意这个过滤组件是可以开启和隐藏的。
	3）右侧上面为主搜索框，模仿chatbot风格，但是在上面，框中条件匹配模式：包含全文搜索、语义搜索、图片搜索、AI文档搜索（支持输入文件，选择模式，和上传图片内容进行搜索）
	4）左侧下面为搜索聚合结果（tabs）（全部、文档、图片、多媒体、压缩包、其他）搜索结果和搜索内容
	5）每个搜索结果条目都带复选框，展示内容为：文件名，文件内容（展示个字），路径、作者、时间；在条目的最右侧有得分，有是否包含敏感信息提示。
	6）最下面为搜索分页，同时选中结果后展示下载文件按钮和导出结果按钮


2、文件预览界面
	1）点击搜索页面的结果（文件名）后跳转到文件预览界面。
	2）文件预览结呈现上下左右布局的多栏目布局，需要根据屏幕宽度来展示布局栏目，上下结构中分为标题栏（header）和内容栏（content）。
	3）header栏目：固定的文件icon ，标题，内容栏控制按钮，文件的操作按钮（下载、定位、等等）
	4）content栏目分为：文件预览栏目（调用第三方插件预览， 默认，宽度）；AI工具栏目（展示在最右侧的80px的操作按钮栏）文本抽取栏（文档中的文本独立展示成富文本编辑模式）翻译栏（将文本翻译成其他语言也是富文本编辑模式）其中文本栏目和翻译栏目还有文件预览栏目和AI工具栏目都可以在header中开启和关闭。
	5）文件预览和AI工具栏目展示成一个版面（AI工具包括：摘要、标签、实体抽取、自定抽取、AI翻译）除了AI翻译点击进入翻译界面外，其他都是打开300px的右侧栏目，和文件预览组成 AI 预览界面。相当板面为文件原文预览+AI右侧操作栏目（300px）注意：文件预览界面如果调用API返回无权限，404界面上，需要新增一个点击申请访问的按钮，点击后弹出一个模态窗口，下拉各种申请权限的操作列表，确认后发起申请。
	6）文本抽取编辑栏目和文本翻译栏目展示成一个版本（两者的内容是通过接口翻译的，翻译后的内容实现同步对应和滚动）相当于在content中有2个1:1的服文本编辑窗口。（推荐选中Milkdown）


3、AI 工具条目
	AI 工具条目的功能有几个主要为
	1、摘要，标签，NER信息提取 （这3个占用一栏（上中下3段，按照顺序展示））注意：这个和文件预览组成一个板面。
	2、自定义信息提取： 点击开上半部分展示用户自定义的多个信息抽取表单（JSON结构表单，如何：合同、报价、单据），选中表单后，下半部分抽取出用户的需要的结果，用户点击确认后保存。注意，这里也是和文件预览组成一个板面。
	3、文档问答，展示问答框，用户进行提问和回答。
	4、翻译：点击后，左侧content 进入文本抽取和翻译组成的板面。注意这里是一个独立的板面。

4、技术选型：

1、采用成熟的vue3 +vite + elementplus 手脚架方案，带状态管理和http库。
2、先根据功能进行功能与框架的架构，功能一点都不能漏，设计好架构之后，将架构输入到project.md中，后面如果中段了，需要根据project.md 来进行继续生成。
3、后端请求方面：调用AI（摘要、翻译、标签、NER等） 的接口需要支持流式输出，普通接口不需要（搜索、过滤、下载、聚合）采用通用http组件。
4、前端技术点：
	- 富文本编辑组件需要集成milkdown，
	- 文件预览组件需要集成pdf.js
	- AI 接口需要流式输出
